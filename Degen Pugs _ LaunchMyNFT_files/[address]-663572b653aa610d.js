(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3376],{54645:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile/[address]",function(){return n(19815)}])},72292:function(e,t,n){"use strict";var r=n(85893),o=n(41664),i=n.n(o),s=n(25675),l=n.n(s),a=(n(67294),n(30562)),c=n(93174),u=n(48590),d=n(83633),h=n(1939),p=(n(58151),n(21869)),f=n.n(p),v=n(97858),g=n(49499),m=function(e){switch(e){case 1:case 4:default:return c.Z;case 56:case 97:return h.Z;case 137:case 80001:return u.Z}},x={hover:{scale:1.1}},y={hidden:{opacity:0},visible:{opacity:1,transition:{delay:.4}},hover:{boxShadow:"0px 4px 20px rgba(108, 119, 134, 0.3)"}};t.Z=function(e){var t=e.collectionData,n=e.id;return(0,r.jsx)(v.P,{arrow:!0,title:(0,r.jsx)(g.Z,{collectionData:t}),children:(0,r.jsx)(a.E.div,{style:{width:"clamp(200px, 100%, 342px)",minWidth:"250px",backgroundColor:"var(--bg-second)",borderRadius:"8px",boxShadow:"rgba(0, 0, 0, 0.1) 0px 4px 12px",border:"1px solid var(--main-colour)",overflow:"hidden",position:"relative",zIndex:1},variants:y,initial:"hidden",animate:"visible",whileHover:"hover",whileTap:"hover",children:(0,r.jsx)(i(),{href:"/collections/".concat(t.owner,"/").concat(n),children:(0,r.jsxs)("a",{children:[t.collectionBannerUrl?(0,r.jsx)("div",{style:{height:220,overflow:"hidden",borderRadius:"8px"},children:(0,r.jsx)(a.E.img,{height:"100%",width:"100%",src:t.collectionBannerUrl,transition:{damping:10},style:{objectFit:"cover"},variants:x})}):(0,r.jsx)("div",{className:f().phCard,children:(0,r.jsx)("strong",{style:{color:"white",fontSize:18},children:"LMNFT"})}),(0,r.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:12,justifyContent:"center",alignItems:"center",position:"absolute",zIndex:3,bottom:0,background:"linear-gradient(180deg, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 1) 100%)",padding:"8px",width:"100%",maxWidth:"100%"},children:(0,r.jsxs)("div",{style:{display:"flex",flexDirection:"row",gap:12,justifyContent:"center",alignItems:"center",padding:8,maxWidth:"100%"},children:[(0,r.jsx)(l(),{width:16,height:16,src:"Solana"!==t.type?m(t.chainId):d.Z,alt:t.type}),(0,r.jsx)("strong",{style:{color:"#f2f2f2",fontSize:18,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",margin:0,textAlign:"center"},children:t.collectionName})]})})]})})})})}},49499:function(e,t,n){"use strict";var r=n(85893),o=n(81458),i=(n(67294),n(26868)),s=n(58151);t.Z=function(e){var t=e.collectionData;return(0,r.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:6,justifyContent:"center",alignItems:"flex-start",padding:16},children:[(0,r.jsxs)("div",{style:{display:"flex",flexDirection:"row",gap:12,justifyContent:"center",alignItems:"center"},children:[t.collectionCoverUrl?(0,r.jsx)("div",{style:{height:64,width:64,overflow:"hidden",borderRadius:8,border:"1px solid #ffffff50"},children:(0,r.jsx)("img",{height:64,width:64,src:t.collectionCoverUrl,style:{objectFit:"cover"}})}):(0,r.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:12,justifyContent:"center",alignItems:"center",backgroundColor:"white",height:64,width:64,overflow:"hidden",borderRadius:8,border:"1px solid #ffffff50"},children:(0,r.jsx)("span",{className:"logo",children:"LMNFT"})}),(0,r.jsxs)("div",{style:{backgroundColor:"var(--bg-second)",height:74,display:"flex",fontSize:14,padding:16,borderRadius:8,flexDirection:"column",alignItems:"center"},children:[(0,r.jsxs)("span",{style:{fontSize:"14px",marginBottom:8},children:[((null===t||void 0===t?void 0:t.totalMints)/(null===t||void 0===t?void 0:t.maxSupply)*100).toFixed(2),"% sold (",null===t||void 0===t?void 0:t.totalMints,"/",null===t||void 0===t?void 0:t.maxSupply,")"]}),(0,r.jsx)(o.Z,{variant:"determinate",value:(null===t||void 0===t?void 0:t.totalMints)/(null===t||void 0===t?void 0:t.maxSupply)*100,title:"Total mint progress",style:{width:"100%",maxWidth:"360px",height:10,borderRadius:5},sx:i.LN})]})]}),(0,r.jsx)("p",{style:{color:"var(--text-second)",fontSize:"12px",overflow:"hidden",textOverflow:"ellipsis",textAlign:"start"},children:t.description?t.description:"Generated and deployed on LaunchMyNFT."}),(0,r.jsxs)("div",{style:{display:"flex",flexDirection:"row",gap:4,justifyContent:"center",alignItems:"center"},children:[(0,r.jsx)(s.Z,{style:{color:"#8691A0B2",width:14,height:14}}),(0,r.jsx)("span",{style:{color:"#8691A0B2",fontSize:"12px"},children:t.heartCount?t.heartCount:0})]})]})}},97858:function(e,t,n){"use strict";n.d(t,{P:function(){return c}});var r=n(85893),o=(n(67294),n(11496)),i=n(90125),s=n(48999);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var c=(0,o.ZP)((function(e){var t=e.className,n=a(e,["className"]);return(0,r.jsx)(i.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){l(e,t,n[t])}))}return e}({},n,{classes:{popper:t}}))}))((function(e){var t=e.theme;return l({},"& .".concat(s.Z.tooltip),{backgroundColor:"var(--bg-second)",color:"var(--text-primary)",maxWidth:400,fontSize:t.typography.pxToRem(12),border:"1px solid var(--main-colour)",borderRadius:"8px"})}))},19815:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return G}});var r=n(85893),o=n(69661),i=n(41664),s=n.n(i),l=n(11163),a=n(67294),c=n(34051),u=n.n(c),d=n(96257),h=n(96821),p=n(72292),f=n(58533),v=n(75906),g=n.n(v);function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x(e,t,n,r,o,i,s){try{var l=e[i](s),a=l.value}catch(c){return void n(c)}l.done?t(a):Promise.resolve(a).then(r,o)}function y(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){x(i,r,o,s,l,"next",e)}function l(e){x(i,r,o,s,l,"throw",e)}s(void 0)}))}}function w(e){return function(e){if(Array.isArray(e))return m(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var b=function(e){var t=(0,a.useState)([]),n=t[0],o=t[1],i=(0,a.useRef)(null);function s(){return(s=y(u().mark((function t(){var n,r,s,l;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=(0,d.hJ)(h.db,"Users",e.user,"Collections"),r=(0,d.IO)(n,(0,d.Xo)("deployed","desc"),(0,d.b9)(8)),t.next=4,(0,d.PL)(r);case 4:(s=t.sent).size<8?i.current=!1:i.current=!0,l=[],s.forEach((function(e){l.push(e)})),o(l);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function l(){return(l=y(u().mark((function t(){var r,s,l;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=(0,d.IO)((0,d.hJ)(h.db,"Users",e.user,"Collections"),(0,d.Xo)("deployed","desc"),(0,d.TQ)(n[n.length-1]),(0,d.b9)(8)),t.next=3,(0,d.PL)(r);case 3:(s=t.sent).size<8?i.current=!1:i.current=!0,l=[],s.forEach((function(e){l.push(e)})),o((function(e){return w(e).concat(w(l))}));case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return(0,a.useEffect)((function(){return function(){s.apply(this,arguments)}(),function(){}}),[e.user]),(0,r.jsx)(r.Fragment,{children:n.length>0?(0,r.jsx)(f.Z,{loader:"Loading",dataLength:n.length,hasMore:i.current,endMessage:"",scrollThreshold:.95,next:function(){return function(){return l.apply(this,arguments)}()},className:g().infiniteScroll,children:n.map((function(e,t){return(0,r.jsx)(p.Z,{collectionData:e.data(),id:e.id},t)}))}):(0,r.jsx)(r.Fragment,{children:"No Collections"})})},j=n(25350),S=n.n(j),T=n(77985);var E=n(30699),C=n(57509),_=n(93946),D=n(77957),L=n(64666),Z=n(31425),O=n(6514),P=n(18557),N=n(11057),R=n(75628),M=n.n(R),k=n(65590),U=n(70098),Y=n(66866),A=n(26868);var F=function(){var e=(0,Y.Z)(),t=e.username,n=e.setUsername,o=(0,a.useRef)(null),i=(0,a.useState)(!1),s=i[0],l=i[1],c=(0,a.useState)(!1),u=(c[0],c[1]),d=(0,a.useRef)(null),h=(0,a.useState)(null),p=h[0],f=h[1],v=(0,a.useState)(!1),g=v[0],m=v[1];return(0,a.useEffect)((function(){return s&&(0,k.Fu)(d.current).then((function(e){l(!1),e.data?f(e.data):(n(d.current),f(null))})),function(){}}),[s]),(0,r.jsx)("div",{children:(0,r.jsxs)("div",{ref:o,style:{display:"flex",flexDirection:"row",alignItems:"center",gap:16},children:[(0,r.jsx)(U.Z,{onKeyDown:function(e){"Enter"===e.key&&null===p&&u(!0)},disabled:s,error:null!==p,helperText:p,label:"Username",sx:A.Jp,defaultValue:t||"",onChange:function(e){if(d.current=e.target.value,t!==d.current){if(!function(e){return e&&e.length>=3&&e.length<=15&&e.match(/^[a-zA-Z0-9 ]+$/)}(e.target.value))return m(!1),void f("Invalid username");f(null),t!==d.current?(console.log("3"),setTimeout((function(){(0,k.s0)(e.target.value).then((function(e){e?(m(!1),f("Username already taken")):m(!0)}))}),300)):m(!1)}else m(!1)}}),s&&(0,r.jsx)("div",{className:M().loading}),g&&(0,r.jsx)(C.Z,{text:"Save",onClick:function(){u(!1),l(!0),m(!1)}})]})})},I=n(33404),H=n(41559),z=n(14866),B=n(21737);function W(e,t,n,r,o,i,s){try{var l=e[i](s),a=l.value}catch(c){return void n(c)}l.done?t(a):Promise.resolve(a).then(r,o)}var J=(0,I.cF)();var X=function(e){e=null!==e?e:function(e){throw e}(new TypeError("Cannot destructure undefined"));var t=(0,Y.Z)(),n=t.userUid,i=t.avatarUrl,s=t.setAvatarUrl,l=(0,a.useState)(null),c=l[0],p=l[1],f=(0,a.useState)(!1),v=f[0],g=f[1],m=(0,a.useState)(!1),x=m[0],y=m[1],w=(0,a.useState)(null),b=w[0],j=w[1],S=function(){y(!0)},T=function(){y(!1)};return n?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",gap:"16px"},children:[i?(0,r.jsx)(o.Z,{src:i,sx:{height:36,width:36},variant:"rounded",alt:"Profile picture"}):(0,r.jsx)(o.Z,{sx:{height:36,width:36},alt:"Profile picture",variant:"rounded",src:c?URL.createObjectURL(c):""}),!v&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{children:(0,r.jsx)("input",{type:"file",id:"input",accept:"image/png, image/gif, image/jpeg",style:{color:"var(--text-primary)"},onChange:function(e){if(e.target.files.length>0&&e.target.files[0].size>512e3)return j({type:"error",msg:"Error: Max file size 500kb!"}),S(),void(e.target.value="");p(e.target.files[0])}})}),(0,r.jsx)("div",{children:c&&(0,r.jsx)(C.Z,{text:"Submit",onClick:function(){g(!0);var e=(0,I.iH)(J,"Users/".concat(n,"/avatar"));(0,I.KV)(e,c).then((function(t){(0,I.Jt)(e).catch((function(e){console.log(e)})).then(function(){var e,t=(e=u().mark((function e(t){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=4;break}console.log("No image"),e.next=8;break;case 4:return s(t),r=(0,d.JU)(h.db,"Users/".concat(n)),e.next=8,(0,d.r7)(r,{avatarUrl:t});case 8:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){W(i,r,o,s,l,"next",e)}function l(e){W(i,r,o,s,l,"throw",e)}s(void 0)}))});return function(e){return t.apply(this,arguments)}}())})).catch((function(e){console.log(e)})).finally((function(){p(null),g(!1),j({type:"success",msg:"Updated avatar image!"}),S()}))}})})]}),v&&(0,r.jsx)("div",{className:M().loading})]}),(0,r.jsx)(H.Z,{children:(0,r.jsx)(z.Z,{open:x,autoHideDuration:5e3,anchorOrigin:{vertical:"bottom",horizontal:"center"},onClose:T,children:(0,r.jsx)(B.Z,{onClose:T,severity:null===b||void 0===b?void 0:b.type,sx:{width:"100%"},children:null===b||void 0===b?void 0:b.msg})},"bottomcenter")})]}):(0,r.jsx)(r.Fragment,{})};var K=function(e){var t=e.open,n=e.handleClose;return(0,r.jsxs)(L.Z,{open:t,onClose:n,fullWidth:!0,maxWidth:"sm",PaperProps:{style:{backgroundColor:"var(--bg-dialog)"}},children:[(0,r.jsx)(P.Z,{style:{color:"var(--text-primary)"},children:"Edit Profile"}),(0,r.jsx)(O.Z,{children:(0,r.jsxs)("div",{style:{display:"flex",flexDirection:"column",padding:"32px 0",gap:"32px"},children:[(0,r.jsx)(X,{}),(0,r.jsx)(F,{})]})}),(0,r.jsx)(Z.Z,{children:(0,r.jsx)(N.Z,{onClick:n,sx:{color:"var(--main-colour)"},children:"Close"})})]})};var V=function(e){e=null!==e?e:function(e){throw e}(new TypeError("Cannot destructure undefined"));var t=(0,a.useState)(!1),n=t[0],o=t[1],i=(0,Y.Z)(),s=i.isValidAuth,l=i.chainInfo,c=(0,a.useCallback)((function(){s?o(!0):l.authenticate().then((function(){o(!0)}))}),[l,s]);return(0,r.jsxs)("div",{children:[(0,r.jsx)(_.Z,{"aria-label":"edit",title:"Edit profile",onClick:c,children:(0,r.jsx)(D.Z,{style:{color:"var(--text-third)"}})}),(0,r.jsx)(K,{open:n,handleClose:function(){o(!1)}})]})},$=n(88078),G=function(){var e=(0,l.useRouter)(),t=e.query.address,n=(0,Y.Z)(),i=(n.userUid,n.chainInfo),c=(0,a.useState)(null),u=c[0],p=c[1],f=function(e){var t=(0,T.useWeb3React)(),n=t.provider,r=t.chainId,o=(0,a.useState)(""),i=o[0],s=o[1];return(0,a.useEffect)((function(){if(n&&"string"===typeof e){var t=!1;return n.lookupAddress(e).then((function(e){t||"string"!==typeof e||s(e)})).catch((function(){})),function(){t=!0,s("")}}}),[n,e,r]),i}(t||"");return(0,a.useEffect)((function(){var e=(0,d.JU)(h.db,"Users/".concat(t));(0,d.QT)(e).then((function(e){e.exists()?p(e.data()):console.log("No such document!")}));return function(){}}),[t]),(0,r.jsx)("main",{className:S().main,children:(0,r.jsxs)("div",{className:S().container,children:[t&&(0,r.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:6},children:[(0,r.jsx)(o.Z,{src:null===u||void 0===u?void 0:u.avatarUrl,sx:{height:120,width:120},alt:"Profile picture",variant:"rounded"}),u?(0,r.jsx)("h2",{children:"".concat(u.username||(0,E.pm)(t,4))}):(0,r.jsx)($.Z,{height:58,width:148,variant:"text"}),(null===u||void 0===u?void 0:u.username)&&(0,r.jsx)("span",{children:f||(0,E.pm)(t,4)})]}),(0,r.jsx)("br",{}),i.publicKey&&t===i.publicKey&&(0,r.jsxs)("div",{style:{display:"flex",flexDirection:"row",gap:8,justifyContent:"center"},children:["ETH"===i.chainName&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s(),{href:"/collections/launch",passHref:!0,children:(0,r.jsx)("a",{children:(0,r.jsx)(C.Z,{text:"New Collection"})})}),(0,r.jsx)(s(),{href:"/collections/generate",passHref:!0,children:(0,r.jsx)("a",{children:(0,r.jsx)(C.Z,{text:"Generate Collection"})})})]}),"SOL"===i.chainName&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s(),{href:"/collections/launch",passHref:!0,children:(0,r.jsx)("a",{children:(0,r.jsx)(C.Z,{text:"New Collection"})})}),(0,r.jsx)(s(),{href:"/collections/generate",passHref:!0,children:(0,r.jsx)("a",{children:(0,r.jsx)(C.Z,{text:"Generate Collection"})})})]}),(0,r.jsx)(V,{})]}),(0,r.jsx)("h2",{style:{marginTop:64},children:"Collections"}),e.isReady?(0,r.jsx)(b,{user:t}):(0,r.jsx)(r.Fragment,{children:"Loading.."})]})})}},21869:function(e){e.exports={phCard:"CollectionCard_phCard__i54Rw"}},75906:function(e){e.exports={infiniteScroll:"UserCollections_infiniteScroll__Qz7Xf"}},75628:function(e){e.exports={loading:"simpler_spinner_loading__eaPho",spin:"simpler_spinner_spin__NXZUR"}},25350:function(e){e.exports={container:"address_container__3M_tO"}},58533:function(e,t,n){"use strict";var r=n(67294),o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},o(e,t)};var i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};var s="Pixel",l="Percent",a={unit:l,value:.8};function c(e){return"number"===typeof e?{unit:l,value:100*e}:"string"===typeof e?e.match(/^(\d*(\.\d+)?)px$/)?{unit:s,value:parseFloat(e)}:e.match(/^(\d*(\.\d+)?)%$/)?{unit:l,value:parseFloat(e)}:(console.warn('scrollThreshold format is invalid. Valid formats: "120px", "50%"...'),a):(console.warn("scrollThreshold should be string or number"),a)}var u=function(e){function t(t){var n=e.call(this,t)||this;return n.lastScrollTop=0,n.actionTriggered=!1,n.startY=0,n.currentY=0,n.dragging=!1,n.maxPullDownDistance=0,n.getScrollableTarget=function(){return n.props.scrollableTarget instanceof HTMLElement?n.props.scrollableTarget:"string"===typeof n.props.scrollableTarget?document.getElementById(n.props.scrollableTarget):(null===n.props.scrollableTarget&&console.warn("You are trying to pass scrollableTarget but it is null. This might\n        happen because the element may not have been added to DOM yet.\n        See https://github.com/ankeetmaini/react-infinite-scroll-component/issues/59 for more info.\n      "),null)},n.onStart=function(e){n.lastScrollTop||(n.dragging=!0,e instanceof MouseEvent?n.startY=e.pageY:e instanceof TouchEvent&&(n.startY=e.touches[0].pageY),n.currentY=n.startY,n._infScroll&&(n._infScroll.style.willChange="transform",n._infScroll.style.transition="transform 0.2s cubic-bezier(0,0,0.31,1)"))},n.onMove=function(e){n.dragging&&(e instanceof MouseEvent?n.currentY=e.pageY:e instanceof TouchEvent&&(n.currentY=e.touches[0].pageY),n.currentY<n.startY||(n.currentY-n.startY>=Number(n.props.pullDownToRefreshThreshold)&&n.setState({pullToRefreshThresholdBreached:!0}),n.currentY-n.startY>1.5*n.maxPullDownDistance||n._infScroll&&(n._infScroll.style.overflow="visible",n._infScroll.style.transform="translate3d(0px, "+(n.currentY-n.startY)+"px, 0px)")))},n.onEnd=function(){n.startY=0,n.currentY=0,n.dragging=!1,n.state.pullToRefreshThresholdBreached&&(n.props.refreshFunction&&n.props.refreshFunction(),n.setState({pullToRefreshThresholdBreached:!1})),requestAnimationFrame((function(){n._infScroll&&(n._infScroll.style.overflow="auto",n._infScroll.style.transform="none",n._infScroll.style.willChange="unset")}))},n.onScrollListener=function(e){"function"===typeof n.props.onScroll&&setTimeout((function(){return n.props.onScroll&&n.props.onScroll(e)}),0);var t=n.props.height||n._scrollableNode?e.target:document.documentElement.scrollTop?document.documentElement:document.body;n.actionTriggered||((n.props.inverse?n.isElementAtTop(t,n.props.scrollThreshold):n.isElementAtBottom(t,n.props.scrollThreshold))&&n.props.hasMore&&(n.actionTriggered=!0,n.setState({showLoader:!0}),n.props.next&&n.props.next()),n.lastScrollTop=t.scrollTop)},n.state={showLoader:!1,pullToRefreshThresholdBreached:!1,prevDataLength:t.dataLength},n.throttledOnScrollListener=function(e,t,n,r){var o,i=!1,s=0;function l(){o&&clearTimeout(o)}function a(){var a=this,c=Date.now()-s,u=arguments;function d(){s=Date.now(),n.apply(a,u)}function h(){o=void 0}i||(r&&!o&&d(),l(),void 0===r&&c>e?d():!0!==t&&(o=setTimeout(r?h:d,void 0===r?e-c:e)))}return"boolean"!==typeof t&&(r=n,n=t,t=void 0),a.cancel=function(){l(),i=!0},a}(150,n.onScrollListener).bind(n),n.onStart=n.onStart.bind(n),n.onMove=n.onMove.bind(n),n.onEnd=n.onEnd.bind(n),n}return function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.componentDidMount=function(){if("undefined"===typeof this.props.dataLength)throw new Error('mandatory prop "dataLength" is missing. The prop is needed when loading more content. Check README.md for usage');if(this._scrollableNode=this.getScrollableTarget(),this.el=this.props.height?this._infScroll:this._scrollableNode||window,this.el&&this.el.addEventListener("scroll",this.throttledOnScrollListener),"number"===typeof this.props.initialScrollY&&this.el&&this.el instanceof HTMLElement&&this.el.scrollHeight>this.props.initialScrollY&&this.el.scrollTo(0,this.props.initialScrollY),this.props.pullDownToRefresh&&this.el&&(this.el.addEventListener("touchstart",this.onStart),this.el.addEventListener("touchmove",this.onMove),this.el.addEventListener("touchend",this.onEnd),this.el.addEventListener("mousedown",this.onStart),this.el.addEventListener("mousemove",this.onMove),this.el.addEventListener("mouseup",this.onEnd),this.maxPullDownDistance=this._pullDown&&this._pullDown.firstChild&&this._pullDown.firstChild.getBoundingClientRect().height||0,this.forceUpdate(),"function"!==typeof this.props.refreshFunction))throw new Error('Mandatory prop "refreshFunction" missing.\n          Pull Down To Refresh functionality will not work\n          as expected. Check README.md for usage\'')},t.prototype.componentWillUnmount=function(){this.el&&(this.el.removeEventListener("scroll",this.throttledOnScrollListener),this.props.pullDownToRefresh&&(this.el.removeEventListener("touchstart",this.onStart),this.el.removeEventListener("touchmove",this.onMove),this.el.removeEventListener("touchend",this.onEnd),this.el.removeEventListener("mousedown",this.onStart),this.el.removeEventListener("mousemove",this.onMove),this.el.removeEventListener("mouseup",this.onEnd)))},t.prototype.componentDidUpdate=function(e){this.props.dataLength!==e.dataLength&&(this.actionTriggered=!1,this.setState({showLoader:!1}))},t.getDerivedStateFromProps=function(e,t){return e.dataLength!==t.prevDataLength?i(i({},t),{prevDataLength:e.dataLength}):null},t.prototype.isElementAtTop=function(e,t){void 0===t&&(t=.8);var n=e===document.body||e===document.documentElement?window.screen.availHeight:e.clientHeight,r=c(t);return r.unit===s?e.scrollTop<=r.value+n-e.scrollHeight+1:e.scrollTop<=r.value/100+n-e.scrollHeight+1},t.prototype.isElementAtBottom=function(e,t){void 0===t&&(t=.8);var n=e===document.body||e===document.documentElement?window.screen.availHeight:e.clientHeight,r=c(t);return r.unit===s?e.scrollTop+n>=e.scrollHeight-r.value:e.scrollTop+n>=r.value/100*e.scrollHeight},t.prototype.render=function(){var e=this,t=i({height:this.props.height||"auto",overflow:"auto",WebkitOverflowScrolling:"touch"},this.props.style),n=this.props.hasChildren||!!(this.props.children&&this.props.children instanceof Array&&this.props.children.length),o=this.props.pullDownToRefresh&&this.props.height?{overflow:"auto"}:{};return r.createElement("div",{style:o,className:"infinite-scroll-component__outerdiv"},r.createElement("div",{className:"infinite-scroll-component "+(this.props.className||""),ref:function(t){return e._infScroll=t},style:t},this.props.pullDownToRefresh&&r.createElement("div",{style:{position:"relative"},ref:function(t){return e._pullDown=t}},r.createElement("div",{style:{position:"absolute",left:0,right:0,top:-1*this.maxPullDownDistance}},this.state.pullToRefreshThresholdBreached?this.props.releaseToRefreshContent:this.props.pullDownToRefreshContent)),this.props.children,!this.state.showLoader&&!n&&this.props.hasMore&&this.props.loader,this.state.showLoader&&this.props.hasMore&&this.props.loader,!this.props.hasMore&&this.props.endMessage))},t}(r.Component);t.Z=u}},function(e){e.O(0,[553,9774,2888,179],(function(){return t=54645,e(e.s=t);var t}));var t=e.O();_N_E=t}]);